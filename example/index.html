<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <meta name="author" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type="text/css">

         body {
            font-family: Arial, sans-serif;
            background-color: white;
            color: #2e3b4e;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        footer{
            position: absolute;
            bottom: 1em;
        }

        #native_message {
            display: none;
        
        }

     #pm {
        display: none;
    }

       
        .message {
            width: 50%;
            background-color: #34495e;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        body {
            font-family: Arial, sans-serif;
            background-color: white;
            color: #2e3b4e;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            width: 50%;
            background-color: #34495e;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }

        h1 {
            font-size: 24px;
            margin-bottom: 20px;
        }

        p {
            font-size: 16px;
            line-height: 1.6;
            text-align: left;
        }

        a {
            color: #2980b9;
            text-decoration: underline;
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .buttons button {
            background-color: transparent;
            border: 2px solid white;
            color: white;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .buttons button:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
 

        /* Neues div für das zweite Layout */
        .datenschutz-einstellungen {
            width: 50%;
            background-color: #34495e;
            padding: 20px;
            border-radius: 10px;
            text-align: left;
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .datenschutz-einstellungen h2 {
            font-size: 22px;
            margin-bottom: 20px;
        }

        .datenschutz-einstellungen p {
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .datenschutz-einstellungen .option-buttons {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 20px;
        }

        .option-buttons button {
            background-color: transparent;
            border: 2px solid white;
            color: white;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            border-radius: 5px;
            margin-left: 10px;
        }

        .option-buttons button:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
 
        .qr-code {
position: relative;
    left: 75%;
    width: 20%;
        top: -40px;


        }
        
        .qr-code img {  
            display:block;
            border: 25px solid white
        }     

        .qr-code p {
            font-size: 12px;
            margin: 0;
        }

        /* Zustimmung/Ablehnung Buttons */
        .final-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px; 
        }

        .final-buttons button {
            background-color: transparent;
            border: 2px solid white;
            color: white;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            margin-left: 10px;
        }

        .final-buttons button:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }


ul {
  list-style: none; 
  padding: 0;
  text-shadow: 0 1px 0 rgba(255,255,255,.5);
}

ul a {
  position: relative;
  display: block;
  padding: .4em .4em .4em 2em;
  margin: .5em 0;
    background: #e7eaf6; 
  color: #444;
  text-decoration: none;
  border-radius: .3em;
  transition: .3s ease-out;
}

ul a:focus { background: #a2a8d3; }
ul a:before {
position: absolute;
    left: -1em;
    top: 50%;
    margin-top: -1.0em;
    background: #a2a8d3;
    height: 1.6em;
    width: 1.6em;
    line-height: 1.5em;
    border: .2em solid #fff;
    text-align: center;
    font-weight: bold;
    border-radius: 1em;
 
}
    </style>
</head>

<body onload="_sp_.executeMessaging()">


   
    <div class="message" id="native_message">
        <h1>Privacy Message</h1>
        <p>
           We and our <span class="all_vendor_count"></span> partners (<span class="iab_vendor_count"></span> IAB) use device identifiers or similar technologies on the app and to collect and use personal data (e.g., your IP address). If you consent, the device identifiers or or the information can be stored locally or accessed on your device for the purpose described below. You can click “Accept All” or “manage Preferences” to customize your consent. For some of the purposes below, our partners use precise geolocation data, and they also rely on legitimate interests to process personal data. View our partners to see the purposes they believe for you can change have legitimate interest & you can change your settings at any time.
        </p>
        
        <div id="stack_template" style="display: none;">
            <ul>
                <li class=""><a href="#">{name}</a>
                <p>{description}</li>
            </ul>
        </div>

        <div class="sp_stacks">
            <h3>Stacks</h3>
        </div>

        <div class="sp_purposes">
            <h3>Purposes</h3>
        </div>


        <div class="buttons">
            <button onclick="_sp_.acceptAll();">Accept</button>
            <button onclick="_sp_.continue();">Continue without Agreeing</button>
            <button onclick="_sp_.loadPrivacyManagerModal();">Configure or Reject</button>
        </div>
    </div> 

       <!-- Zweites Div für Datenschutz-Einstellungen -->
    <div class="datenschutz-einstellungen" id="pm">
    <button id="reload_pm">Zurück</button> 
        <h2>Ihre Datenschutzeinstellungen</h2>

    <div class="sp_stacks">
        <h3>Stacks</h3>
    </div>

    <div class="sp_purposes">
        <h3>Purposes</h3>
    </div>

        <div class="final-buttons" style="float: left;">
            <button onclick="_sp_.acceptAll();">Accept All</button>
            <button onclick="_sp_.continue();">Continue without Agreeing</button>
            <button onclick="_sp_.reject();">Reject All</button>
        </div>

        <div class="qr-code">
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=www.tcfv2.de/pm" id="qr" alt="QR Code" /><br />
             <p>To customize your privacy settings, please scan the QR code below</p>
              <button id="reload_pm" onclick="_sp_.executeMessaging();">Update CMP</button> 
        </div>
    </div>
 
    <div style="display:none">
        <p>To customize your privacy settings, please scan the QR code below. This will allow you to manage your granular consent preferences, deciding which data processing activities you wish to approve or decline. We value your privacy and want to give you full control over your choices.</p>
       <p align="center"><img id="qr" class="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=www.tcfv2.de/pm" /></p>
       <p > After completing your settings on the second screen, please press the confirmation button to save your preferences.</p>
        <p><button id="close_pm">Back to the first layer</button><button id="reload_pm">Reload CMP</button></p>
    </div>
    <script type="text/javascript">
        window._sp_ = {
            config: {
                accountId: 22,
                propertyId: 37811,
                propertyHref: "https://ott.es3",
                baseEndpoint: 'https://cmp.tcfv2.de',
                messageDiv: "native_message",
                // authId: "1234-5678-9083-3452", // optional 
                isSPA : true, 
                pmDiv: "pm", 
                qrId: "qr",
                qrUrl: "https://cf.3-t.uk/tvc/qcode/?code=",
                pmUrl: "https://tcfv2.de/native/pm.php",
                events: {
                    onConsentReady: function( consentUUID, euconsent, vendorGrants) {
                        console.log('Custom - onConsentReady');
                        console.log('consentUUID: ' + consentUUID);
                        console.log('euconsent: ' + euconsent);
                        console.log(vendorGrants);
                    }
                }
            }
        }
    </script>
    <script src="/native/index.min.js" type="text/javascript"> </script>  
    <footer>
        <button onclick="_sp_.loadPrivacyManagerModal();">Consent Settings</button>
    </footer>
</body>

</html>